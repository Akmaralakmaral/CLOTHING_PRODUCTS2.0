@model List<CLOTHING_PRODUCTS.Models.Ingredient>

@{
    ViewData["Title"] = "Ingredient Page";
}

<h2>@ViewData["Title"]</h2>

@using (Html.BeginForm("ActionName", "ControяllerName", FormMethod.Post, new { id = "ingredientForm" }))
{
    <div class="form-group">
        <label for="productList">Select Product:</label>
        @Html.DropDownList("ProductId", (SelectList)ViewData["Products"], new { @class = "form-control", id = "productList", onchange = "updateForm()" })
    </div>

    <div id="formContainer" style="display:none;">
        <!-- Your form content goes here -->
    </div>
}

<script>
    function updateForm() {
        var productId = $("#productList").val();

        // Make an AJAX call to get the details for the selected product
        $.get("/Ingredient/GetProductDetails?productId=" + productId, function (data) {
            $("#formContainer").html(data);
            $("#formContainer").show();
        });
    }
</script>

<a asp-action="Create" class="btn btn-primary">Create New Ingredient</a>
